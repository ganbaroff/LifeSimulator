# LifeSim GSL Engine - React Native MVP

18+ dark realism life simulator with AI-powered scenarios, historical events, and avatar aging system.

## ğŸš€ Quick Start

### Prerequisites
- Node.js 18+
- Expo CLI: `npm install -g expo-cli`
- Android Studio (for Android builds)

### Installation
```bash
npm install
```

### Development
```bash
# Start development server
npm start

# Run on Android emulator/device
npm run android

# Run on iOS simulator
npm run ios
```

### Configuration

#### 1. Gemini API Key
Open `src/services/AIEngine.js` and add your API key:
```javascript
const GEMINI_API_KEY = 'YOUR_GEMINI_API_KEY_HERE';
```
Get key at: https://makersuite.google.com/app/apikey

#### 2. Adapty Setup (Optional - for monetization)
Open `src/services/MonetizationService.js`:
```javascript
const ADAPTY_PUBLIC_KEY = 'YOUR_ADAPTY_PUBLIC_KEY';
```
Get key at: https://app.adapty.io/

#### 3. Avaturn Setup (Optional - for avatar morphing)
Open `src/services/AvatarService.js`:
```javascript
const AVATURN_API_KEY = 'YOUR_AVATURN_API_KEY';
```
Get key at: https://avaturn.me/

## ğŸ—ï¸ Project Structure

```
src/
â”œâ”€â”€ components/         # UI components
â”‚   â”œâ”€â”€ HUD.js         # Health/Happiness/Wealth/Skills bars
â”‚   â”œâ”€â”€ EventCard.js   # Event display with choices
â”‚   â””â”€â”€ AvatarView.js  # Avatar display component
â”œâ”€â”€ screens/           # App screens
â”‚   â”œâ”€â”€ MainScreen.js  # Character creation & level selection
â”‚   â”œâ”€â”€ GameScreen.js  # Main gameplay loop
â”‚   â”œâ”€â”€ EventScreen.js # Event interaction screen
â”‚   â””â”€â”€ ShareScreen.js # Share achievements
â”œâ”€â”€ services/          # Core game logic
â”‚   â”œâ”€â”€ AIEngine.js    # Gemini AI + fallback events
â”‚   â”œâ”€â”€ CharacterManager.js # Character state management
â”‚   â”œâ”€â”€ HistoricalEvents.js # Historical context 1850-2025
â”‚   â”œâ”€â”€ LevelSystem.js # Level progression & achievements
â”‚   â”œâ”€â”€ AvatarService.js # Avatar aging system
â”‚   â””â”€â”€ MonetizationService.js # IAP & Rewind
â”œâ”€â”€ context/           # React Context
â”‚   â”œâ”€â”€ GameContext.js # Global game state
â”‚   â””â”€â”€ CharacterContext.js # Character data
â””â”€â”€ data/              # Static data
    â”œâ”€â”€ fallbackEvents.json # Offline events
    â”œâ”€â”€ historicalData.json # Historical events by country/year
    â””â”€â”€ achievements.json   # Achievement definitions
```

## ğŸ® Game Features

### Character System
- **Attributes**: Health (0-100), Happiness (0-100), Wealth (0-100), Skills (0-100)
- **Age**: 0-80 years, Quick Mode: 1.5-4h = 40 years
- **Professions**: PMP, Programmer, Doctor, Teacher, etc.
- **Skills**: Affect event outcomes and career progression

### Historical Events
- **Countries**: USA, Russia, India, China, Germany, Japan, Brazil, etc.
- **Years**: 1850-2025
- **Impact**: 20-30% of scenarios affected by historical context
- **Examples**: 
  - 1929 USA â†’ Great Depression â†’ Wealth penalties
  - 1941 USSR â†’ WW2 â†’ Health/survival risks
  - 1980 India â†’ License Raj â†’ Business restrictions

### AI Event System
Events generated by Gemini Flash API with structure:
```json
{
  "situation": "Realistic life event (max 200 chars)",
  "A": "Safe choice (low risk, low reward)",
  "B": "Balanced choice (moderate risk/reward)",
  "C": "Risky choice (high reward, death chance)",
  "D": "Custom choice (player input, AI evaluates)",
  "effects": {
    "A": {"health": 0, "happiness": 5, "wealth": 100, "skills": 0},
    "B": {"health": -5, "happiness": 10, "wealth": 500, "skills": 5},
    "C": {"health": -20, "happiness": 30, "wealth": 2000, "skills": 10, "deathChance": 0.3}
  }
}
```

**NEW: Choice D - Custom Input**
- Players can type their own action (max 200 chars)
- AI evaluates if the choice is logical and creative
- Correct choices award +1-3 Skills bonus
- AI provides explanation of consequences
- Example: "I'll start my own business" â†’ AI evaluates based on character's skills, wealth, age

**Event Memory:**
- AI remembers last 10 events to avoid repetition
- All choices are saved to `character.history`
- Rewind system allows rolling back 5 events

### Level System
- **Demo**: 5 minutes, easy scenarios
- **Levels 1-5**: Progressive difficulty, unlock sequentially
- **C-Risks**: 20-60% chance of death/criminal outcomes
- **Achievements**: Farm crystals for Rewind purchases

### Monetization
- **Rewind IAP**: $0.99 - $4.99 via Adapty
- **Daily Rewards**: Free crystals
- **Achievements**: Unlock rewards
- **Viral Marketing**: TikTok selfieâ†’deathâ†’Rewind campaigns

## ğŸ› ï¸ Development Guide

### Adding New Events
Edit `src/data/fallbackEvents.json`:
```json
{
  "id": "new_event_1",
  "ageRange": [18, 30],
  "level": 1,
  "situation": "Your scenario here...",
  "choices": {
    "A": {"text": "Safe choice", "effects": {...}},
    "B": {"text": "Balanced choice", "effects": {...}},
    "C": {"text": "Risky choice", "effects": {...}}
  }
}
```

### Adding New Levels
Edit `src/services/LevelSystem.js`:
```javascript
const LEVELS = {
  6: {
    name: "Level 6",
    requiredCrystals: 500,
    deathChance: 0.7,
    duration: 180
  }
};
```

### Customizing Historical Events
Edit `src/data/historicalData.json`:
```json
{
  "USA": {
    "1950": {
      "event": "Post-war boom",
      "effects": {"wealth": 1.2, "happiness": 1.1}
    }
  }
}
```

## ğŸ“± Building for Production

### Android APK
```bash
# Install EAS CLI
npm install -g eas-cli

# Login to Expo
eas login

# Configure build
eas build:configure

# Build APK
eas build --platform android --profile preview
```

### Android AAB (Play Store)
```bash
eas build --platform android --profile production
```

## ğŸ§ª Testing

### Test Modes
- **Demo Mode**: Quick 5-minute playthrough
- **Quick Mode**: 1.5-4 hours for 40 years
- **AI Fallback**: Automatically uses JSON when API unavailable

### Debug Features
- Character state logging
- Event generation preview
- AI prompt inspection (check console)

## ğŸ“Š Analytics & Metrics
- Age reached
- Wealth accumulated
- Rewind purchases
- Death causes
- Achievement completion rate

## ğŸ¨ UI Customization
- Colors: `src/styles/theme.js`
- Fonts: Add to `assets/fonts/`
- Avatar styles: `src/components/AvatarView.js`

## ğŸ”’ Privacy & Safety
- All data stored locally (AsyncStorage)
- No data collection without consent
- 18+ content warnings
- Optional AI features

## ğŸ“ License
MIT License - Free for personal/commercial use

## ğŸ¤ Contributing
1. Fork the repo
2. Create feature branch
3. Test thoroughly
4. Submit pull request

## ğŸ†˜ Troubleshooting

### Common Issues
1. **"Unable to resolve module"**: Run `npm install` again
2. **Android build fails**: Check Android SDK installation
3. **AI not working**: Check API key and internet connection
4. **Slow performance**: Enable Hermes engine in app.json

### Support
- GitHub Issues: Report bugs
- Discord: Community support
- Email: support@lifesim.com

## ğŸ¯ Roadmap
- [ ] Multiplayer mode
- [ ] More countries & historical periods
- [ ] Career progression trees
- [ ] Relationship system
- [ ] Housing & assets
- [ ] iOS version
- [ ] Cloud save sync

---

**Version**: 1.0.0  
**Last Updated**: November 2025  
**Made with â¤ï¸ for realistic life simulation**
