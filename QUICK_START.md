# 🚀 БЫСТРЫЙ СТАРТ - LifeSim GSL v1.1

```
┌─────────────────────────────────────────────────────────────┐
│  LifeSim GSL Engine v1.1 - 18+ Dark Realism Life Simulator │
│  React Native + Expo + Gemini AI + Historical Events       │
└─────────────────────────────────────────────────────────────┘
```

---

## 📋 Что нового в v1.1?

### 🆕 Главные функции:

```
┌──────────────────────┬────────────────────────────────────────┐
│ FEATURE              │ ОПИСАНИЕ                               │
├──────────────────────┼────────────────────────────────────────┤
│ Choice D             │ Пользовательский ввод + AI оценка      │
│ Dark Realism AI      │ 18+ events с чёрным юмором             │
│ Event Memory         │ Помнит последние 10 событий            │
│ Historical Context   │ 1850-2025, 7 стран                     │
│ Rewind System        │ Откат на N событий назад               │
└──────────────────────┴────────────────────────────────────────┘
```

---

## ⚡ Установка за 3 шага

```powershell
# 1. Установить зависимости (2-5 минут)
cd c:\Users\aynur_pc\Desktop\LifeSimulator
npm install

# 2. Добавить Gemini API ключ
# Файл: src/services/AIEngine.js, строка 9
# const GEMINI_API_KEY = 'AIzaSy...ВАШ_КЛЮЧ';
# Получить: https://makersuite.google.com/app/apikey

# 3. Запустить приложение
npm start
```

---

## 🎮 Игровой процесс

### Выборы (A/B/C/D):

```
┌─────────────────────────────────────────────────────────────┐
│ EVENT: "2010, Индия. Ваша IT-компания сокращает штат..."    │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  🛡️ A: Остаться в Индии, искать новую работу                │
│     [Безопасно: -10 Happiness, -$500]                       │
│                                                               │
│  ⚖️ B: Переезд в США с понижением зарплаты                   │
│     [Сбалансировано: +10 Happiness, +$2000, +15 Skills]     │
│                                                               │
│  🎲 C: Попросить повышения и рискнуть                        │
│     [Риск 40% смерти: -30 Happiness, -$3000]                │
│                                                               │
│  ✍️ D: Свой вариант (введите текст)                          │
│     [AI оценит: "Я создам свой стартап" → +2 Skills]        │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### Пример D-выбора:

```
User Input: "Я запущу свой стартап в EdTech"
            ↓
         [AI оценка через Gemini]
            ↓
AI Response:
┌─────────────────────────────────────────────────────────────┐
│ ✅ Choice Accepted                                           │
│                                                               │
│ "Отличная идея! EdTech растёт в Индии после 2010.          │
│  +3 к Skills за креативность и соответствие профессии PMP." │
│                                                               │
│ Эффекты:                                                     │
│ • Health: -10 (стресс от стартапа)                          │
│ • Happiness: +20 (следуешь мечте)                            │
│ • Wealth: -$1000 (инвестиции)                               │
│ • Skills: +3 (AI бонус за креативность)                      │
└─────────────────────────────────────────────────────────────┘
```

---

## 🧠 AI Промпт (Dark Realism)

### Что учитывает AI:

```
┌──────────────────────┬────────────────────────────────────────┐
│ ПАРАМЕТР             │ ПРИМЕР                                 │
├──────────────────────┼────────────────────────────────────────┤
│ Персонаж             │ Ali, 30 лет, Индия, PMP                │
│ Атрибуты             │ Health 70, Happiness 50, Wealth $5000  │
│ Исторический год     │ 2010 (после кризиса 2008)              │
│ Уровень              │ Level 3 (Hard, 40% риск смерти)        │
│ Прошлые события      │ Последние 10 событий в кэше            │
│ Tone                 │ Dark realism, 18+, чёрный юмор         │
└──────────────────────┴────────────────────────────────────────┘
```

### Правила генерации:

```
✅ ДА:
- Реалистичные последствия (смерть, тюрьма, банкротство)
- Исторический контекст (войны, кризисы, технологии)
- Чёрный юмор (но не токсичность)
- Непредсказуемые повороты судьбы

❌ НЕТ:
- Анахронизмы (интернет до 1990, смартфоны до 2007)
- Нереалистичные события (выигрыш в лотерею $1M)
- Слишком драматичные клише ("все предали вас")
- Токсичный контент (расизм, сексизм, насилие без контекста)
```

---

## 📂 Структура проекта

```
LifeSimulator/
├── src/
│   ├── services/
│   │   ├── AIEngine.js          ← 🆕 Расширенный AI промпт + D-оценка
│   │   ├── HistoricalEvents.js  ← Исторический контекст
│   │   └── ...
│   ├── components/
│   │   ├── EventCard.js         ← 🆕 Кнопка D + TextInput
│   │   └── ...
│   ├── screens/
│   │   ├── GameScreen.js        ← 🆕 Обработка D-выбора
│   │   └── ...
│   ├── context/
│   │   ├── CharacterContext.js  ← Rewind система
│   │   └── ...
│   └── data/
│       ├── fallbackEvents.json  ← 20 офлайн событий
│       └── ...
├── docs/
│   ├── AI_PROMPTS.md            ← 🆕 Документация AI
│   ├── EXAMPLE_GAMEPLAY.md      ← 🆕 Примеры игры
│   └── ...
├── README.md                    ← 🆕 Обновлён
├── CHECKLIST.md                 ← 🆕 Обновлён
└── UPDATE_SUMMARY.md            ← 🆕 Полный changelog
```

---

## 🔧 Настройка API

### Gemini AI (обязательно для D-выбора):

```javascript
// Файл: src/services/AIEngine.js
// Строка: 9

const GEMINI_API_KEY = 'AIzaSyВАШ_КЛЮЧ_ЗДЕСЬ';

// Получить ключ:
// https://makersuite.google.com/app/apikey
```

### Adapty (опционально, для монетизации):

```javascript
// Файл: src/services/MonetizationService.js
// Строка: 5

const ADAPTY_PUBLIC_KEY = 'YOUR_ADAPTY_PUBLIC_KEY';

// Получить ключ:
// https://app.adapty.io/
```

### Avaturn (опционально, для аватаров):

```javascript
// Файл: src/services/AvatarService.js
// Строка: 5

const AVATURN_API_KEY = 'YOUR_AVATURN_API_KEY';

// Получить ключ:
// https://avaturn.me/
```

---

## 🧪 Тестирование

### Quick Test (5 минут):

```powershell
# 1. Запустить приложение
npm start

# 2. Открыть на Android/iOS
npm run android  # или npm run ios

# 3. Создать персонажа
- Имя: Ali
- Страна: India
- Год рождения: 1980

# 4. Выбрать Demo уровень (5 минут)

# 5. Пройти 3-5 событий:
- Попробуйте выбор A (безопасно)
- Попробуйте выбор B (сбалансировано)
- Попробуйте выбор C (риск смерти)
- Попробуйте выбор D (свой вариант)

# 6. Для D-выбора введите:
"Я создам свой бизнес"
"Я возьму кредит в банке"
"Я буду учиться программированию"

# 7. Проверьте AI оценку в Alert
# 8. Проверьте, что Skills увеличился
```

### Full Test (30 минут):

```
1. Пройдите Demo уровень до конца (5 мин)
2. Разблокируйте Level 1 (30 кристаллов)
3. Умрите на C-выборе (40% риск)
4. Используйте Rewind (откат на 5 событий)
5. Переиграйте с другим выбором
6. Проверьте достижения
7. Проверьте character.history
```

---

## 📊 Статистика изменений

```
┌──────────────────────┬────────────────────────────────────────┐
│ МЕТРИКА              │ ЗНАЧЕНИЕ                               │
├──────────────────────┼────────────────────────────────────────┤
│ Файлов изменено      │ 5                                      │
│ Файлов создано       │ 3 (2 docs + 1 summary)                 │
│ Строк добавлено      │ ~600                                   │
│ Новых функций        │ 2 (evaluateCustomChoice + расшир. AI)  │
│ Баги исправлены      │ 6 (из предыдущей сессии)               │
│ Синтаксич. ошибки    │ 0 ✅                                    │
│ Готовность           │ 95% (нужен API ключ + npm install)     │
└──────────────────────┴────────────────────────────────────────┘
```

---

## 🎯 Следующие шаги

```
[ ] 1. npm install                   (2-5 минут)
[ ] 2. Добавить Gemini API ключ      (1 минута)
[ ] 3. npm start                     (30 секунд)
[ ] 4. Создать персонажа             (1 минута)
[ ] 5. Пройти Demo уровень           (5 минут)
[ ] 6. Попробовать D-выбор           (2 минуты)
[ ] 7. Проверить AI оценку           (30 секунд)
[ ] 8. Разблокировать Level 1        (10 минут)
```

---

## 📖 Документация

```
docs/
├── AI_PROMPTS.md        → Полное руководство по AI промптам
├── EXAMPLE_GAMEPLAY.md  → Пошаговый пример игры с D-выбором
├── ARCHITECTURE.md      → Архитектура проекта
├── GAME_DESIGN.md       → Игровой дизайн и балансировка
├── API.md               → API референс (Gemini/Adapty/Avaturn)
├── MONETIZATION.md      → Стратегия монетизации
└── VIRAL_STRATEGY.md    → TikTok/Instagram стратегия
```

---

## ⚠️ Известные ограничения

```
1. D-выбор:
   - Без API → базовая оценка (без AI анализа)
   - Лимит 200 символов
   - Timeout 8 секунд

2. Fallback события:
   - Не поддерживают D-выбор (только A/B/C)
   - Фиксированные 20 событий

3. История:
   - Хранится в AsyncStorage (может быть очищена)
   - Нет cloud sync (только локально)
```

---

## 🆘 Troubleshooting

```
Проблема: "AI не генерирует события"
Решение: Проверьте Gemini API ключ в AIEngine.js

Проблема: "D-выбор возвращает базовую оценку"
Решение: Убедитесь, что API ключ корректный и есть интернет

Проблема: "npm install выдаёт ошибки"
Решение: npm cache clean --force && npm install

Проблема: "Expo не запускается"
Решение: expo-cli --version (установите если нет)

Проблема: "AsyncStorage ошибка"
Решение: npx expo install @react-native-async-storage/async-storage
```

---

## 🎉 Готово к использованию!

```
┌─────────────────────────────────────────────────────────────┐
│                                                               │
│  ✅ Все файлы созданы                                         │
│  ✅ Баги исправлены                                           │
│  ✅ Документация готова                                       │
│  ✅ Примеры добавлены                                         │
│                                                               │
│  🚀 Следующий шаг: npm install && npm start                  │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

**Версия:** 1.1  
**Дата:** 25 ноября 2025  
**Статус:** ✅ Ready for Testing  
**Команда:** GitHub Copilot (Claude Sonnet 4.5)
